<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.forums.admin.mapper.WenZhangMapper">


    <resultMap type="com.forums.model.pojo.WenZhang" id="WenZhangResult">
    <id property="tid"    column="tid"    />
    <result property="uid"    column="uid"    />
    <result property="sid"    column="sid"    />
    <result property="biaoTi"    column="biaoti"    />
    <result property="neiRong"    column="neirong"    />
    <result property="createTime"    column="createtime"    />
    <result property="updateTime"    column="updatetime"    />
    <result property="tShou"    column="tstart"    />
    <result property="tStart"    column="tshou"    />
    <collection property="section" ofType="com.forums.model.pojo.Section">
        <id property="sid"    column="uid"    />
        <result property="sname"    column="sname"    />
        <result property="sjianjie"    column="sjianjie"    />
    </collection>
    </resultMap>

    <select id="getAll" resultMap="WenZhangResult">
        select wenzhang.*,section.sname
        from wenzhang
            LEFT JOIN section
                on section.sid = wenzhang.sid
        where isdelete = 0
        Order By createtime Desc
    </select>

    <select id="getAllBySid" resultMap="WenZhangResult">
        select wenzhang.*,section.sname
        from wenzhang
            LEFT JOIN section
                on section.sid = wenzhang.sid
        where (isdelete = 0 AND wenzhang.sid = #{sid})
        Order By createtime Desc
    </select>

</mapper>